<svg width="1600" height="700" xmlns="http://www.w3.org/2000/svg">
<defs>
<marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
<polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
</marker>
</defs>
<rect width="100%" height="100%" fill="#fafafa"/>
<text x="50" y="35" font-family="Arial" font-size="20" font-weight="bold" fill="#1a237e">Auto-Layout Power System Visualization (hierarchical)</text>
<text x="50" y="55" font-family="Arial" font-size="12" fill="#666">Positions computed from electrical distances (impedance-based)</text>
<rect x="50" y="630" width="1500" height="55" fill="#f5f5f5" stroke="#bdbdbd" rx="5"/>
<text x="70" y="650" font-family="Arial" font-size="12" font-weight="bold">Legend:</text>
<circle cx="170" cy="655" r="12" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
<text x="165" y="660" font-family="Arial" font-size="10" font-weight="bold" fill="#1976d2">G</text>
<text x="190" y="660" font-family="Arial" font-size="11">Generator</text>
<rect x="270" y="645" width="20" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="300" y="660" font-family="Arial" font-size="11">Exciter</text>
<rect x="380" y="645" width="20" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="410" y="660" font-family="Arial" font-size="11">Governor</text>
<circle cx="510" cy="650" r="8" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="520" cy="660" r="8" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="540" y="660" font-family="Arial" font-size="11">Transformer</text>
<line x1="640" y1="655" x2="690" y2="655" stroke="#424242" stroke-width="3"/>
<text x="700" y="660" font-family="Arial" font-size="11">Transmission Line</text>
<rect x="830" y="642" width="8" height="26" fill="#212121" rx="2"/>
<text x="850" y="660" font-family="Arial" font-size="11">Bus</text>
<polygon points="920,665 935,645 950,665" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
<text x="960" y="660" font-family="Arial" font-size="11">Load</text>
<line x1="150.0" y1="346.5" x2="375.9" y2="346.5" stroke="#424242" stroke-width="2"/>
<line x1="150.0" y1="352.5" x2="375.9" y2="352.5" stroke="#424242" stroke-width="2"/>
<text x="262.9" y="341.5" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(0.0 262.9 341.5)">2x, X_eq=0.0250</text>
<line x1="375.9" y1="346.5" x2="601.8" y2="346.5" stroke="#424242" stroke-width="2"/>
<line x1="375.9" y1="352.5" x2="601.8" y2="352.5" stroke="#424242" stroke-width="2"/>
<text x="488.8" y="341.5" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(0.0 488.8 341.5)">2x, X_eq=0.0100</text>
<line x1="601.8" y1="343.5" x2="997.0" y2="343.5" stroke="#424242" stroke-width="2"/>
<line x1="601.8" y1="349.5" x2="997.0" y2="349.5" stroke="#424242" stroke-width="2"/>
<line x1="601.8" y1="355.5" x2="997.0" y2="355.5" stroke="#424242" stroke-width="2"/>
<text x="799.4" y="341.5" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(0.0 799.4 341.5)">3x, X_eq=0.0733</text>
<line x1="997.0" y1="346.5" x2="1222.9" y2="346.5" stroke="#424242" stroke-width="2"/>
<line x1="997.0" y1="352.5" x2="1222.9" y2="352.5" stroke="#424242" stroke-width="2"/>
<text x="1110.0" y="341.5" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(0.0 1110.0 341.5)">2x, X_eq=0.0100</text>
<line x1="1222.9" y1="346.5" x2="1448.8" y2="346.5" stroke="#424242" stroke-width="2"/>
<line x1="1222.9" y1="352.5" x2="1448.8" y2="352.5" stroke="#424242" stroke-width="2"/>
<text x="1335.9" y="341.5" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(0.0 1335.9 341.5)">2x, X_eq=0.0250</text>
<line x1="150.0" y1="200.0" x2="150.0" y2="259.8" stroke="#7b1fa2" stroke-width="3"/>
<line x1="150.0" y1="289.8" x2="150.0" y2="349.5" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="150.0" cy="266.8" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="150.0" cy="282.8" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="150.0" y="299.8" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="375.9" y1="499.0" x2="375.9" y2="439.3" stroke="#7b1fa2" stroke-width="3"/>
<line x1="375.9" y1="409.3" x2="375.9" y2="349.5" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="375.9" cy="432.3" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="375.9" cy="416.3" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="375.9" y="449.3" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="1222.9" y1="200.0" x2="1222.9" y2="259.8" stroke="#7b1fa2" stroke-width="3"/>
<line x1="1222.9" y1="289.8" x2="1222.9" y2="349.5" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="1222.9" cy="266.8" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="1222.9" cy="282.8" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="1222.9" y="299.8" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="1448.8" y1="499.0" x2="1448.8" y2="439.3" stroke="#7b1fa2" stroke-width="3"/>
<line x1="1448.8" y1="409.3" x2="1448.8" y2="349.5" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="1448.8" cy="432.3" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="1448.8" cy="416.3" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="1448.8" y="449.3" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="150.0" y1="200.0" x2="80.0" y2="200.0" stroke="#1976d2" stroke-width="2"/>
<circle cx="80.0" cy="200.0" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="80.0" y="205.0" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G1</text>
<text x="50.0" y="192.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=13.0</text>
<text x="50.0" y="203.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="375.9" y1="499.0" x2="305.9" y2="499.0" stroke="#1976d2" stroke-width="2"/>
<circle cx="305.9" cy="499.0" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="305.9" y="504.0" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G2</text>
<text x="275.9" y="491.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=13.0</text>
<text x="275.9" y="502.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="1222.9" y1="200.0" x2="1292.9" y2="200.0" stroke="#1976d2" stroke-width="2"/>
<circle cx="1292.9" cy="200.0" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="1292.9" y="205.0" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G3</text>
<text x="1322.9" y="192.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=12.35</text>
<text x="1322.9" y="203.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="1448.8" y1="499.0" x2="1518.8" y2="499.0" stroke="#1976d2" stroke-width="2"/>
<circle cx="1518.8" cy="499.0" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="1518.8" y="504.0" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G4</text>
<text x="1548.8" y="491.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=12.35</text>
<text x="1548.8" y="502.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="80.0" y1="180.0" x2="80.0" y2="165.0" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="68.0" y="145.0" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="80.0" y="159.0" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="305.9" y1="479.0" x2="305.9" y2="464.0" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="293.9" y="444.0" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="305.9" y="458.0" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="1292.9" y1="180.0" x2="1292.9" y2="165.0" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1280.9" y="145.0" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="1292.9" y="159.0" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="1518.8" y1="479.0" x2="1518.8" y2="464.0" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1506.8" y="444.0" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="1518.8" y="458.0" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="80.0" y1="220.0" x2="80.0" y2="235.0" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="68.0" y="235.0" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="80.0" y="249.0" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="305.9" y1="519.0" x2="305.9" y2="534.0" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="293.9" y="534.0" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="305.9" y="548.0" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="1292.9" y1="220.0" x2="1292.9" y2="235.0" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1280.9" y="235.0" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="1292.9" y="249.0" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="1518.8" y1="519.0" x2="1518.8" y2="534.0" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1506.8" y="534.0" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="1518.8" y="548.0" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="601.8" y1="349.5" x2="601.8" y2="382.5" stroke="#d32f2f" stroke-width="2"/>
<polygon points="601.8,406.5 589.8,386.5 613.8,386.5" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
<text x="601.8" y="419.5" font-family="Arial" font-size="8" fill="#c62828" text-anchor="middle">P=11.59</text>
<line x1="997.0" y1="349.5" x2="997.0" y2="382.5" stroke="#d32f2f" stroke-width="2"/>
<polygon points="997.0,406.5 985.0,386.5 1009.0,386.5" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
<text x="997.0" y="419.5" font-family="Arial" font-size="8" fill="#c62828" text-anchor="middle">P=15.75</text>
<rect x="146.0" y="175.0" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="150.0" y="168.0" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">1</text>
<text x="150.0" y="240.0" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="371.9" y="474.0" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="375.9" y="467.0" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">2</text>
<text x="375.9" y="539.0" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="1218.9" y="175.0" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="1222.9" y="168.0" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">12</text>
<text x="1222.9" y="240.0" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="1444.8" y="474.0" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="1448.8" y="467.0" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">11</text>
<text x="1448.8" y="539.0" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="146.0" y="324.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="150.0" y="317.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">101</text>
<text x="150.0" y="389.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="371.9" y="324.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="375.9" y="317.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">102</text>
<text x="375.9" y="389.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="597.8" y="324.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="601.8" y="317.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">3</text>
<text x="601.8" y="389.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="993.0" y="324.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="997.0" y="317.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">13</text>
<text x="997.0" y="389.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="1218.9" y="324.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="1222.9" y="317.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">112</text>
<text x="1222.9" y="389.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="1444.8" y="324.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="1448.8" y="317.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">111</text>
<text x="1448.8" y="389.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
</svg>