<svg width="1400" height="800" xmlns="http://www.w3.org/2000/svg">
<defs>
<marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
<polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
</marker>
</defs>
<rect width="100%" height="100%" fill="#fafafa"/>
<text x="50" y="35" font-family="Arial" font-size="20" font-weight="bold" fill="#1a237e">Auto-Layout Power System Visualization (force_directed)</text>
<text x="50" y="55" font-family="Arial" font-size="12" fill="#666">Positions computed from electrical distances (impedance-based)</text>
<rect x="50" y="730" width="1300" height="55" fill="#f5f5f5" stroke="#bdbdbd" rx="5"/>
<text x="70" y="750" font-family="Arial" font-size="12" font-weight="bold">Legend:</text>
<circle cx="170" cy="755" r="12" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
<text x="165" y="760" font-family="Arial" font-size="10" font-weight="bold" fill="#1976d2">G</text>
<text x="190" y="760" font-family="Arial" font-size="11">Generator</text>
<rect x="270" y="745" width="20" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="300" y="760" font-family="Arial" font-size="11">Exciter</text>
<rect x="380" y="745" width="20" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="410" y="760" font-family="Arial" font-size="11">Governor</text>
<circle cx="510" cy="750" r="8" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="520" cy="760" r="8" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="540" y="760" font-family="Arial" font-size="11">Transformer</text>
<line x1="640" y1="755" x2="690" y2="755" stroke="#424242" stroke-width="3"/>
<text x="700" y="760" font-family="Arial" font-size="11">Transmission Line</text>
<rect x="830" y="742" width="8" height="26" fill="#212121" rx="2"/>
<text x="850" y="760" font-family="Arial" font-size="11">Bus</text>
<polygon points="920,765 935,745 950,765" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
<text x="960" y="760" font-family="Arial" font-size="11">Load</text>
<line x1="1236.3" y1="564.0" x2="1061.1" y2="514.3" stroke="#424242" stroke-width="2"/>
<line x1="1237.9" y1="558.2" x2="1062.8" y2="508.5" stroke="#424242" stroke-width="2"/>
<text x="1149.5" y="528.2" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(15.8 1149.5 528.2)">2x, X_eq=0.0250</text>
<line x1="1060.3" y1="508.9" x2="1166.3" y2="441.0" stroke="#424242" stroke-width="2"/>
<line x1="1063.6" y1="514.0" x2="1169.6" y2="446.0" stroke="#424242" stroke-width="2"/>
<text x="1114.9" y="469.5" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(-32.6 1114.9 469.5)">2x, X_eq=0.0100</text>
<line x1="1166.3" y1="449.3" x2="572.1" y2="280.3" stroke="#424242" stroke-width="2"/>
<line x1="1168.0" y1="443.5" x2="573.8" y2="274.6" stroke="#424242" stroke-width="2"/>
<line x1="1169.6" y1="437.7" x2="575.4" y2="268.8" stroke="#424242" stroke-width="2"/>
<text x="870.9" y="351.0" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(15.9 870.9 351.0)">3x, X_eq=0.0733</text>
<line x1="574.3" y1="277.5" x2="376.5" y2="309.4" stroke="#424242" stroke-width="2"/>
<line x1="573.3" y1="271.6" x2="375.5" y2="303.5" stroke="#424242" stroke-width="2"/>
<text x="474.9" y="282.5" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(-9.2 474.9 282.5)">2x, X_eq=0.0100</text>
<line x1="373.0" y1="306.5" x2="371.8" y2="200.0" stroke="#424242" stroke-width="2"/>
<line x1="379.0" y1="306.4" x2="377.8" y2="200.0" stroke="#424242" stroke-width="2"/>
<text x="375.4" y="245.2" font-family="Arial" font-size="9" fill="#616161" text-anchor="middle" transform="rotate(89.3 375.4 245.2)">2x, X_eq=0.0250</text>
<line x1="1125.8" y1="599.1" x2="1167.3" y2="585.0" stroke="#7b1fa2" stroke-width="3"/>
<line x1="1195.7" y1="575.2" x2="1237.1" y2="561.1" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="1173.9" cy="582.7" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="1189.0" cy="577.5" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="1181.5" y="605.1" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="1247.4" y1="482.1" x2="1169.5" y2="494.4" stroke="#7b1fa2" stroke-width="3"/>
<line x1="1139.9" y1="499.1" x2="1061.9" y2="511.4" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="1162.6" cy="495.5" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="1146.8" cy="498.0" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="1154.7" y="521.7" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="424.4" y1="262.8" x2="411.4" y2="274.6" stroke="#7b1fa2" stroke-width="3"/>
<line x1="389.1" y1="294.7" x2="376.0" y2="306.5" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="406.2" cy="279.3" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="394.3" cy="290.0" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="400.2" y="309.7" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="150.0" y1="269.0" x2="248.1" y2="238.9" stroke="#7b1fa2" stroke-width="3"/>
<line x1="276.7" y1="230.1" x2="374.8" y2="200.0" stroke="#7b1fa2" stroke-width="3"/>
<circle cx="254.7" cy="236.9" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<circle cx="270.0" cy="232.2" r="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
<text x="262.4" y="259.5" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">X=0.012</text>
<line x1="1125.8" y1="599.1" x2="1195.8" y2="599.1" stroke="#1976d2" stroke-width="2"/>
<circle cx="1195.8" cy="599.1" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="1195.8" y="604.1" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G1</text>
<text x="1225.8" y="591.1" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=13.0</text>
<text x="1225.8" y="602.1" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="1247.4" y1="482.1" x2="1317.4" y2="482.1" stroke="#1976d2" stroke-width="2"/>
<circle cx="1317.4" cy="482.1" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="1317.4" y="487.1" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G2</text>
<text x="1347.4" y="474.1" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=13.0</text>
<text x="1347.4" y="485.1" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="424.4" y1="262.8" x2="354.4" y2="262.8" stroke="#1976d2" stroke-width="2"/>
<circle cx="354.4" cy="262.8" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="354.4" y="267.8" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G3</text>
<text x="324.4" y="254.8" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=12.35</text>
<text x="324.4" y="265.8" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="150.0" y1="269.0" x2="80.0" y2="269.0" stroke="#1976d2" stroke-width="2"/>
<circle cx="80.0" cy="269.0" r="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="3"/>
<text x="80.0" y="274.0" font-family="Arial" font-size="12" font-weight="bold" fill="#1976d2" text-anchor="middle">G4</text>
<text x="50.0" y="261.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">M=12.35</text>
<text x="50.0" y="272.0" font-family="Arial" font-size="8" fill="#1565c0" text-anchor="middle">900MVA</text>
<line x1="1195.8" y1="579.1" x2="1195.8" y2="564.1" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1183.8" y="544.1" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="1195.8" y="558.1" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="1317.4" y1="462.1" x2="1317.4" y2="447.1" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1305.4" y="427.1" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="1317.4" y="441.1" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="354.4" y1="242.8" x2="354.4" y2="227.8" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="342.4" y="207.8" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="354.4" y="221.8" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="80.0" y1="249.0" x2="80.0" y2="234.0" stroke="#ff6f00" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="68.0" y="214.0" width="24" height="20" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="3"/>
<text x="80.0" y="228.0" font-family="Arial" font-size="8" font-weight="bold" fill="#e65100" text-anchor="middle">AVR</text>
<line x1="1195.8" y1="619.1" x2="1195.8" y2="634.1" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1183.8" y="634.1" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="1195.8" y="648.1" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="1317.4" y1="502.1" x2="1317.4" y2="517.1" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="1305.4" y="517.1" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="1317.4" y="531.1" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="354.4" y1="282.8" x2="354.4" y2="297.8" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="342.4" y="297.8" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="354.4" y="311.8" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="80.0" y1="289.0" x2="80.0" y2="304.0" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="3,2"/>
<rect x="68.0" y="304.0" width="24" height="20" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="3"/>
<text x="80.0" y="318.0" font-family="Arial" font-size="8" font-weight="bold" fill="#1b5e20" text-anchor="middle">GOV</text>
<line x1="1168.0" y1="443.5" x2="1168.0" y2="476.5" stroke="#d32f2f" stroke-width="2"/>
<polygon points="1168.0,500.5 1156.0,480.5 1180.0,480.5" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
<text x="1168.0" y="513.5" font-family="Arial" font-size="8" fill="#c62828" text-anchor="middle">P=11.59</text>
<line x1="573.8" y1="274.6" x2="573.8" y2="307.6" stroke="#d32f2f" stroke-width="2"/>
<polygon points="573.8,331.6 561.8,311.6 585.8,311.6" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
<text x="573.8" y="344.6" font-family="Arial" font-size="8" fill="#c62828" text-anchor="middle">P=15.75</text>
<rect x="1121.8" y="574.1" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="1125.8" y="567.1" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">1</text>
<text x="1125.8" y="639.1" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="1243.4" y="457.1" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="1247.4" y="450.1" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">2</text>
<text x="1247.4" y="522.1" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="420.4" y="237.8" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="424.4" y="230.8" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">12</text>
<text x="424.4" y="302.8" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="146.0" y="244.0" width="8" height="50" fill="#1565c0" rx="2"/>
<text x="150.0" y="237.0" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">11</text>
<text x="150.0" y="309.0" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">20kV</text>
<rect x="1233.1" y="536.1" width="8" height="50" fill="#212121" rx="2"/>
<text x="1237.1" y="529.1" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">101</text>
<text x="1237.1" y="601.1" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="1057.9" y="486.4" width="8" height="50" fill="#212121" rx="2"/>
<text x="1061.9" y="479.4" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">102</text>
<text x="1061.9" y="551.4" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="1164.0" y="418.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="1168.0" y="411.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">3</text>
<text x="1168.0" y="483.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="569.8" y="249.6" width="8" height="50" fill="#212121" rx="2"/>
<text x="573.8" y="242.6" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">13</text>
<text x="573.8" y="314.6" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="372.0" y="281.5" width="8" height="50" fill="#212121" rx="2"/>
<text x="376.0" y="274.5" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">112</text>
<text x="376.0" y="346.5" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
<rect x="370.8" y="175.0" width="8" height="50" fill="#212121" rx="2"/>
<text x="374.8" y="168.0" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">111</text>
<text x="374.8" y="240.0" font-family="Arial" font-size="9" fill="#757575" text-anchor="middle">230kV</text>
</svg>